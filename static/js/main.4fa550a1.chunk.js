(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{177:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(11),i=a.n(o),r=a(10),s=a(29),l=a(226),d=a(221),j=a(252),u=a(14),b=a(228),h=a(55),p=a(219),m=a(220),O=a(116),x=a.n(O).a.create({baseURL:"https://aakogako.herokuapp.com/api/v1/",timeout:5e3,withCredentials:!0,headers:{"Content-Type":"application/json",accept:"application/json"}}),g="auth/token/refresh/";x.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;return 401===e.response.status&&t.url===g?(window.location.pathname="/logout",Promise.reject(e)):401!==e.response.status||t._retry?Promise.reject(e):(t._retry=!0,x.post(g).then((function(e){if(200===e.status)return x(t)})))}));var f=x,v=a(17),y=a(13),w=function(e){return{type:"INSERT_USER",payload:e}},C=a(227),S=a(83),k=a(249),N=a(1),_=function(e){var t=e.message,a=e.type;return Object(N.jsx)(k.a,{severity:a,children:t})},E=Object(p.a)((function(e){return{buttonProgress:{color:S.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},buttonWrapper:{margin:e.spacing(1),position:"relative"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function T(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(v.b)(),i=Object(y.g)(),p=E(),O=Object(n.useState)(!1),x=Object(r.a)(O,2),g=x[0],S=x[1],k=Object(n.useState)(!1),T=Object(r.a)(k,2),D=(T[0],T[1]),I=Object(s.a)({initialValues:{username:"",password:""},onSubmit:function(e){S(!0),f.post("auth/login/",e,{withCredentials:!0}).then((function(e){console.clear(),localStorage.setItem("access_token",e.data.access_token),localStorage.setItem("user",JSON.stringify(e.data.user)),o({type:"TRUE"}),o(w(e.data.user)),i.push("/accounts"),D(!0)})).catch((function(e){D(!1),c([{message:e.response.data.non_field_errors[0],type:"error"}])})).finally((function(){return S(!1)}))}});return Object(N.jsxs)(m.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(d.a,{}),Object(N.jsxs)("div",{className:p.paper,children:[Object(N.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(N.jsxs)("form",{className:p.form,onSubmit:I.handleSubmit,children:[Object(N.jsx)(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",onChange:I.handleChange,value:I.values.username,autoFocus:!0}),Object(N.jsx)(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:I.handleChange,value:I.values.password}),Object(N.jsxs)("div",{className:p.buttonWrapper,children:[Object(N.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:g,className:p.submit,children:"Sign In"}),g&&Object(N.jsx)(C.a,{size:24,className:p.buttonProgress})]}),Object(N.jsxs)(b.a,{container:!0,children:[Object(N.jsx)(b.a,{item:!0,xs:!0,children:Object(N.jsx)(u.b,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(N.jsx)(b.a,{item:!0,children:Object(N.jsx)(u.b,{to:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),a.map((function(e){return Object(N.jsx)(_,{message:e.message,type:e.type})}))]})}var D=function(){var e=Object(v.b)();return Object(n.useEffect)((function(){f.post("auth/logout/").then((function(t){localStorage.removeItem("access_token"),localStorage.removeItem("user"),e(w({})),e({type:"REMOVE_BOOKS",payload:{}}),e({type:"FALSE"})}))}),[]),Object(N.jsxs)("div",{className:"white-container",style:{padding:"2vh 5vw",margin:"2vh"},children:[Object(N.jsx)("h1",{children:"You are Logged Out!"}),Object(N.jsx)("hr",{}),Object(N.jsx)(u.b,{to:"/login",children:"Log in again?"})]})},I=a(23),W=a(24),P=a(253),R=a(247),B=a(122),F=a.n(B);function A(){var e=Object(y.g)(),t=Object.freeze({email:"",username:"",password1:"",password2:""}),a=Object(n.useState)([]),c=Object(r.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(!1),O=Object(r.a)(s,2),x=O[0],g=O[1],v=Object(n.useState)(!1),w=Object(r.a)(v,2),k=(w[0],w[1]),E=Object(n.useState)(t),T=Object(r.a)(E,2),D=T[0],B=T[1],A=function(e){B(Object(W.a)(Object(W.a)({},D),{},Object(I.a)({},e.target.name,e.target.value.trim())))},U=Object(p.a)((function(e){return{buttonProgress:{color:S.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},buttonWrapper:{margin:e.spacing(1),position:"relative"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}))();return Object(N.jsxs)(m.a,{component:"main",maxWidth:"xs",children:[Object(N.jsxs)("div",{className:"white-container",children:[Object(N.jsx)(d.a,{}),Object(N.jsxs)("div",{className:U.paper,children:[Object(N.jsx)(P.a,{className:U.avatar,children:Object(N.jsx)(F.a,{})}),Object(N.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(N.jsxs)("form",{className:U.form,noValidate:!0,children:[Object(N.jsxs)(b.a,{container:!0,spacing:2,children:[Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(j.a,{autoComplete:"username",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",autoFocus:!0,onChange:function(e){return A(e)}})}),Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(j.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return A(e)}})}),Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(j.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password1",label:"Password",type:"password",id:"password1",autoComplete:"current-password1",onChange:function(e){return A(e)}})}),Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(j.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password2",label:"Confirm Password",type:"password",id:"password2",autoComplete:"current-password2",onChange:function(e){return A(e)}})})]}),Object(N.jsxs)("div",{className:U.buttonWrapper,children:[Object(N.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:U.submit,disabled:x,onClick:function(t){return function(t){t.preventDefault(),g(!0),f.post("auth/register/",D).then((function(t){k(!0),e.push("/login")})).catch((function(e){k(!1),console.log(e);var t=Object.entries(e.response.data)[0][1];i([{message:t,type:"warning"}])})).finally((function(){return g(!1)}))}(t)},children:"Sign Up"}),x&&Object(N.jsx)(C.a,{size:24,className:U.buttonProgress})]}),Object(N.jsx)(b.a,{container:!0,justify:"flex-end",children:Object(N.jsx)(b.a,{item:!0,children:Object(N.jsx)(u.b,{to:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(N.jsx)(R.a,{mt:5})]}),o.map((function(e){return Object(N.jsx)(_,{message:e.message,type:e.type})}))]})}var U=a(128),L=["component"],V=function(e){var t=e.component,a=Object(U.a)(e,L);return Object(N.jsx)(y.b,Object(W.a)(Object(W.a)({},a),{},{render:function(e){return localStorage.getItem("access_token")?Object(N.jsx)(t,Object(W.a)({},e)):Object(N.jsx)(y.a,{to:{pathname:"login/",state:{from:e.location}}})}}))},z=(a(177),Object(p.a)({root:{textDecoration:"none"},card:{boxSizing:"border-box",border:"4px solid #1a61bd",borderRadius:"5px",textDecoration:"none",padding:"15px 5px",minHeight:"100%",backgroundColor:"#e7e7ff;","&:hover":{backgroundColor:"#cbcbff",transform:"scale(1.1)",transition:"250ms ease-in-out",boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px"},"&:active":{backgroundColor:"#cbcbff",transform:"scale(1.1)",transition:"250ms ease-in-out",boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px"}},cardTitle:{fontSize:"26px",textDecoration:"none",color:"#1a61bd"},cardBalance:{color:"green",right:"0"}})),M=function(e){var t=e.id,a=e.title,n=e.balance,c=z(),o="accounts/".concat(t);return Object(N.jsx)("div",{className:c.card,children:Object(N.jsxs)(u.b,{className:c.root,to:o,children:[Object(N.jsx)("div",{className:c.cardTitle,children:a}),Object(N.jsxs)("div",{className:c.cardBalance,children:["Rs. ",n]})]})})},q=a(80),K=a.n(q),Y=a(229),H=a(232),J=a(231),X=a(230);function G(e){var t=e.account_book,a=e._type,n=e.refreshForm,o=c.a.useState(!1),i=Object(r.a)(o,2),d=i[0],u=i[1],b=function(){h.handleReset(),u(!1)},h=Object(s.a)({initialValues:{description:"",amount:0,_type:a},onSubmit:function(e){f.post("account-books/".concat(t,"/transactions/"),e,{withCredentials:!0}).then((function(e){b(),n()})).catch((function(e){return console.log(e)}))}});return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){u(!0)},disableElevation:!0,fullWidth:!0,children:"DEBIT"===a?"Add Income":"Add Expense"}),Object(N.jsxs)(Y.a,{open:d,onClose:b,"aria-labelledby":"form-dialog-title",children:[Object(N.jsxs)(X.a,{id:"form-dialog-title",children:["Add ","DEBIT"===a?"Income":"Expense"," Transaction"]}),Object(N.jsxs)("form",{action:"",onSubmit:h.handleSubmit,children:[Object(N.jsxs)(J.a,{children:[Object(N.jsx)(j.a,{autoFocus:!0,margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,onChange:h.handleChange,value:h.values.description,placeholder:"Description"}),Object(N.jsx)(j.a,{margin:"dense",id:"amount",label:"Amount",type:"number",fullWidth:!0,onChange:h.handleChange,value:h.values.amount})]}),Object(N.jsxs)(H.a,{children:[Object(N.jsx)(l.a,{onClick:b,color:"primary",children:"Cancel"}),Object(N.jsx)(l.a,{onClick:h.handleSubmit,color:"primary",children:"DEBIT"===a?"Add Income":"Add Expense"})]})]})]})]})}var Q=a(251),Z=a(248),$=Object(p.a)({paginationContainer:{display:"flex",right:"0px",justifyContent:"flex-end"},paginationItem:{padding:"10px 0px",alignSelf:"center"}}),ee=function(e){var t=e.dataCount,a=e.rowsPerPage,n=e.page,c=e.handleChangePage,o=e.handleChangeRowsPerPage,i=$();return Object(N.jsxs)("div",{className:i.paginationContainer,children:[Object(N.jsx)(Q.a,{className:i.paginationItem,rowsPerPageOptions:[5,10,25,50,100,200,500],component:"div",count:t,rowsPerPage:a,page:n,onChangePage:function(e,t){return c(e,t)},onChangeRowsPerPage:function(e){o(e)},ActionsComponent:function(){return Object(N.jsx)(N.Fragment,{})}}),Object(N.jsx)(Z.a,{color:"primary",count:Math.ceil(t/a),page:n+1,onChange:function(e,t){return c(e,t-1)},className:i.paginationItem})]})},te=a(224),ae=a(250),ne=a(234),ce=a(238),oe=a(236),ie=a(233),re=a(240),se=a(237),le=a(239);function de(e){var t=e.account_book,a=e.trans_id,n=e.description,o=e.amount,i=e.refreshForm,d=c.a.useState(!1),u=Object(r.a)(d,2),b=u[0],h=u[1],p=function(){m.handleReset(),h(!1)},m=Object(s.a)({initialValues:{description:n,amount:o},onSubmit:function(e){f.patch("account-books/".concat(t,"/transactions/").concat(a,"/"),e,{withCredentials:!0}).then((function(e){console.log(e),p(),i()})).catch((function(e){return console.log(e)}))}});return Object(N.jsxs)("div",{children:[Object(N.jsx)(l.a,{variant:"outlined",disableElevation:!0,color:"default",onClick:function(){h(!0)},children:"\u270e"}),Object(N.jsxs)(Y.a,{open:b,onClose:p,"aria-labelledby":"form-dialog-title",children:[Object(N.jsx)(X.a,{id:"form-dialog-title",children:"Edit Transaction"}),Object(N.jsxs)("form",{action:"",onSubmit:m.handleSubmit,children:[Object(N.jsxs)(J.a,{children:[Object(N.jsx)(j.a,{autoFocus:!0,margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,onChange:m.handleChange,value:m.values.description,placeholder:"Description"}),Object(N.jsx)(j.a,{margin:"dense",id:"amount",label:"Amount",type:"number",fullWidth:!0,onChange:m.handleChange,value:m.values.amount})]}),Object(N.jsxs)(H.a,{children:[Object(N.jsx)(l.a,{onClick:p,color:"primary",children:"Cancel"}),Object(N.jsx)(l.a,{onClick:function(){f.delete("account-books/".concat(t,"/transactions/").concat(a,"/"),{withCredentials:!0}).then((function(e){p(),i()})).catch((function(e){return console.log(e)}))},color:"primary",children:"Delete"}),Object(N.jsx)(l.a,{onClick:m.handleSubmit,color:"primary",children:"Update"})]})]})]})]})}var je=a(82),ue=Object(p.a)({greenRow:{backgroundColor:S.a[200]},redRow:{backgroundColor:je.a[200]}}),be=function(e){var t=e.trans,a=e.accountBook,n=e.refreshForm,c=ue();return Object(N.jsxs)(oe.a,{tabIndex:-1,className:"DEBIT"===t._type?c.greenRow:c.redRow,children:[Object(N.jsx)(ie.a,{children:t.date}),Object(N.jsx)(ie.a,{children:t.description}),Object(N.jsx)(ie.a,{children:t.amount}),Object(N.jsx)(ie.a,{children:Object(N.jsx)(de,{account_book:a,trans_id:t.id,description:t.description,amount:t.amount,refreshForm:n})})]},t.id)},he=Object(p.a)({root:{margin:"0px 5px",padding:"5px"},container:{},formEntity:{},btnHolder:{marginTop:"25px",padding:"5px 25px"},accountTitle:{fontSize:"24px",fontWeight:"600"},accountBalance:{fontSize:"24px",color:"green"},table:{}}),pe=function(){var e=he(),t=Object(y.h)().account_id,a=Object(n.useState)([]),o=Object(r.a)(a,2),i=o[0],s=o[1],d=Object(n.useState)([]),u=Object(r.a)(d,2),h=u[0],p=u[1],m=c.a.useState(0),O=Object(r.a)(m,2),x=O[0],g=O[1],v=c.a.useState(10),w=Object(r.a)(v,2),C=w[0],S=w[1],k=c.a.useState(0),_=Object(r.a)(k,2),E=_[0],T=_[1],D=Object(n.useState)(0),P=Object(r.a)(D,2),R=P[0],B=P[1],F=Object.freeze({type:"",sdate:"",edate:"",search:""}),A=c.a.useState(F),U=Object(r.a)(A,2),L=U[0],V=U[1],z=function(e){g(0);var t=e.target.value;if("sdate"===e.target.name||"edate"===e.target.name){var a;try{a=new Date(t).toISOString()}catch(n){a=""}V(Object(W.a)(Object(W.a)({},L),{},Object(I.a)({},e.target.name,a)))}else V(Object(W.a)(Object(W.a)({},L),{},Object(I.a)({},e.target.name,t.trim())))},M="account-books/".concat(t,"/transactions/?limit=").concat(C,"&offset=").concat(x*C,"&_type=").concat(L.type,"&search=").concat(L.search,"&date__gte=").concat(L.sdate||"","&date__lte=").concat(L.edate||""),q=function(){B(R+1)};Object(n.useEffect)((function(){f.get("account-books/".concat(t,"/")).then((function(e){p(e.data)})).catch((function(e){return console.log(e)}))}),[R,t]);return Object(n.useEffect)((function(){f.get(M).then((function(e){s(e.data.results),T(e.data.count)})).catch((function(e){return console.log(e)}))}),[M,R,t]),Object(N.jsxs)("div",{className:"container mt-4",children:[Object(N.jsxs)("h4",{className:e.accountTitle,children:["Title: ",h.title]}),Object(N.jsxs)("h4",{className:e.accountTitle,children:["Balance: Rs.",Object(N.jsxs)("span",{id:"balance_amt",className:e.accountBalance,children:[" ",h.balance]}),"/-"]}),Object(N.jsx)("hr",{}),Object(N.jsx)("form",{action:"",method:"get",id:"filter-form",className:e.root,onSubmit:function(e){return e.preventDefault()},children:Object(N.jsxs)(b.a,{container:!0,lg:12,spacing:1,children:[Object(N.jsx)(b.a,{item:!0,spacing:2,xs:12,sm:4,md:4,lg:4,className:e.formEntity,children:Object(N.jsxs)(te.a,{fullWidth:!0,children:[Object(N.jsx)("label",{htmlFor:"sdate",children:"Transaction Type:"}),Object(N.jsx)("br",{}),Object(N.jsx)(ae.a,{variant:"outlined",id:"type",name:"type",type:"text",displayEmpty:!0,value:L.type,onChange:z,children:[{value:"",title:"All Transaction"},{value:"DEBIT",title:"Income"},{value:"CREDIT",title:"Expenses"}].map((function(e){return Object(N.jsx)(ne.a,{value:e.value,children:e.title},e.value)}))})]})}),Object(N.jsx)(b.a,{item:!0,spacing:2,xs:12,sm:4,md:4,lg:4,className:e.formEntity,children:Object(N.jsxs)(te.a,{fullWidth:!0,children:[Object(N.jsx)("label",{htmlFor:"sdate",children:"Start Date:"}),Object(N.jsx)("br",{}),Object(N.jsx)(j.a,{type:"date",name:"sdate",variant:"outlined",onChange:function(e){z(e)}})]})}),Object(N.jsx)(b.a,{item:!0,spacing:2,xs:12,sm:4,md:4,lg:4,className:e.formEntity,children:Object(N.jsxs)(te.a,{fullWidth:!0,children:[Object(N.jsx)("label",{htmlFor:"sdate",children:"End Date:"}),Object(N.jsx)("br",{}),Object(N.jsx)(j.a,{type:"date",name:"edate",variant:"outlined",onChange:function(e){z(e)}})]})}),Object(N.jsx)(b.a,{item:!0,spacing:2,xs:12,sm:6,md:6,lg:6,className:e.formEntity,children:Object(N.jsxs)(te.a,{fullWidth:!0,children:[Object(N.jsx)("label",{htmlFor:"sdate",children:"Search:"}),Object(N.jsx)("br",{}),Object(N.jsx)(j.a,{variant:"outlined",name:"search",placeholder:"Type and press enter",onKeyUp:function(e){"Enter"===e.code&&(g(0),z(e))}})]})}),Object(N.jsxs)(b.a,{xs:12,sm:6,md:6,lg:6,item:!0,spacing:1,container:!0,className:e.btnHolder,children:[Object(N.jsx)(b.a,{item:!0,spacing:4,xs:4,sm:4,md:4,lg:4,children:Object(N.jsx)(l.a,{variant:"contained",color:"primary",type:"reset",disableElevation:!0,fullWidth:!0,onClick:function(e){g(0),V(F)},children:"Clear"})}),Object(N.jsx)(b.a,{item:!0,spacing:4,xs:4,sm:4,md:4,lg:4,children:Object(N.jsx)(G,{account_book:t,_type:"DEBIT",refreshForm:q})}),Object(N.jsx)(b.a,{item:!0,spacing:4,xs:4,sm:4,md:4,lg:4,children:Object(N.jsx)(G,{account_book:t,_type:"CREDIT",refreshForm:q})})]})]})}),Object(N.jsx)("hr",{}),Object(N.jsx)(se.a,{children:Object(N.jsxs)(ce.a,{stickyHeader:!0,"aria-label":"sticky table",className:e.table,children:[Object(N.jsx)(le.a,{children:Object(N.jsxs)(oe.a,{children:[Object(N.jsx)(ie.a,{children:Object(N.jsx)("b",{children:"Date"})}),Object(N.jsx)(ie.a,{children:Object(N.jsx)("b",{children:"Description"})}),Object(N.jsx)(ie.a,{children:Object(N.jsx)("b",{children:"Amount"})}),Object(N.jsx)(ie.a,{children:Object(N.jsx)("b",{children:"Action"})})]})}),Object(N.jsx)(re.a,{children:i.map((function(e){return Object(N.jsx)(be,{trans:e,accountBook:t,refreshForm:q})}))})]})}),Object(N.jsx)(ee,{dataCount:E,rowsPerPage:C,page:x,handleChangePage:function(e,t){g(t)},handleChangeRowsPerPage:function(e){S(parseInt(e.target.value)),g(0)}})]})};function me(){var e=Object(v.c)((function(e){return e.authenticated})),t=Object(v.b)();c.a.useEffect((function(){e&&f.get("account-books/").then((function(e){t({type:"INSERT_BOOKS",payload:e.data})})).catch((function(e){return console.log(e)}))}),[])}var Oe=function(){var e=he();me();var t=Object(y.g)(),a=Object(v.c)((function(e){return e.account_books}));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h3",{className:e.accountTitle,children:"Your Account Books:"}),Object(N.jsx)("hr",{}),Object(N.jsx)(b.a,{container:!0,spacing:1,style:{padding:"10px 0px 0px 0px"},children:a.map((function(e){return Object(N.jsx)(b.a,{item:!0,spacing:12,xs:6,sm:6,md:4,lg:3,children:Object(N.jsx)(M,{id:e.id,title:e.title,balance:e.balance},e.id)})}))}),Object(N.jsx)("div",{className:"add-account-div",children:Object(N.jsxs)(l.a,{variant:"contained",color:"primary",onClick:function(){return t.push("/create-account-book")},children:[Object(N.jsx)(K.a,{}),"Add New Account book"]})})]})},xe=function(){me();var e=he(),t=Object(y.g)(),a=Object(v.c)((function(e){return e.account_books}));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h3",{className:e.accountTitle,children:"Edit Your Account Books:"}),Object(N.jsx)("hr",{}),Object(N.jsx)(b.a,{container:!0,spacing:1,style:{padding:"10px 0px 0px 0px"},children:a.map((function(e){return Object(N.jsx)(b.a,{item:!0,spacing:12,xs:6,sm:6,md:4,lg:3,children:Object(N.jsx)(M,{id:e.id,title:e.title,balance:e.balance},e.id)})}))}),Object(N.jsx)("div",{className:"add-account-div",children:Object(N.jsxs)(l.a,{variant:"contained",color:"primary",onClick:function(){return t.push("/create-account-book")},children:[Object(N.jsx)(K.a,{}),"Add New Account book"]})})]})},ge=function(){var e=Object(y.g)(),t=Object(s.a)({initialValues:{title:""},onSubmit:function(t){console.log(t),f.post("account-books/",t,{withCredentials:!0}).then((function(t){e.push("/accounts")})).catch((function(e){console.log(e)}))}});return Object(N.jsxs)("div",{className:"container mt-3",children:[Object(N.jsx)("h1",{children:"Create Account book"}),Object(N.jsx)("hr",{}),Object(N.jsxs)("form",{action:"",method:"post",className:"container mt-4 pt-4",onSubmit:t.handleSubmit,children:[Object(N.jsx)(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title",name:"title",onChange:t.handleChange,value:t.values.title,autoFocus:!0}),Object(N.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"Create"})]})]})},fe=a(15),ve=a(244),ye=a(235),we=a(218),Ce=a(127),Se=a(125),ke=a.n(Se),Ne=a(126),_e=a.n(Ne),Ee=a(4),Te=a(256),De=a(225),Ie=a(242),We=a(181),Pe=a(241),Re=a(243),Be=a(124),Fe=a.n(Be),Ae=a(123),Ue=a.n(Ae),Le=Object(p.a)((function(e){var t;return{list:{width:250},fullList:{width:"auto"},grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:(t={display:"block",color:"white",textDecoration:"none"},Object(I.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(I.a)(t,"&:hover",{textDecoration:"none",color:"#f0f6db"}),t),search:Object(I.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(fe.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(fe.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),inputRoot:{color:"inherit"},inputInput:Object(I.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(I.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(I.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function Ve(){var e=Object(v.c)((function(e){return e.account_books})),t=Object(v.c)((function(e){return e.user.username})),a=Object(v.c)((function(e){return e.authenticated})),n=c.a.useState({left:!1}),o=Object(r.a)(n,2),i=o[0],s=o[1],d=function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&s(Object(W.a)(Object(W.a)({},i),{},Object(I.a)({},e,t)))}},j=Le(),b=c.a.useState(null),p=Object(r.a)(b,2),m=p[0],O=p[1],x=Boolean(m),g="primary-search-account-menu",f=a?Object(N.jsx)("div",{children:Object(N.jsxs)(Ce.a,{anchorEl:m,anchorOrigin:{vertical:"top",horizontal:"right"},id:g,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:x,onClose:function(){O(null)},children:[Object(N.jsx)(ne.a,{component:u.b,to:"/profile",children:"My account"}),Object(N.jsx)(ne.a,{component:u.b,to:"/logout",children:"Logout"})]})}):"",y="left";return Object(N.jsxs)("div",{className:j.grow,children:[Object(N.jsx)(ve.a,{position:"static",children:Object(N.jsxs)(ye.a,{children:[a?Object(N.jsx)(l.a,{onClick:d(y,!0),children:Object(N.jsx)(ke.a,{})}):"",Object(N.jsx)(Te.a,{anchor:y,open:i.left,onClose:d(y,!1),children:function(a){return Object(N.jsxs)("div",{className:Object(Ee.a)(j.list,Object(I.a)({},j.fullList,"top"===a||"bottom"===a)),role:"presentation",onClick:d(a,!1),onKeyDown:d(a,!1),children:[Object(N.jsx)(De.a,{children:Object(N.jsx)(We.a,{button:!0,children:Object(N.jsxs)(Pe.a,{children:[Object(N.jsx)(Ue.a,{fontSize:"large"}),Object(N.jsxs)("h4",{children:[" @",t]})]})})}),Object(N.jsx)(Ie.a,{}),Object(N.jsxs)(De.a,{children:[Object(N.jsx)(We.a,{button:!0,component:u.b,to:"/accounts",children:Object(N.jsx)(Pe.a,{children:Object(N.jsx)("h6",{children:"My Account Books"})})}),Object(N.jsx)(Ie.a,{}),e.map((function(e){return Object(N.jsxs)(We.a,{button:!0,component:u.b,to:"/accounts/".concat(e.id),children:[Object(N.jsx)(Pe.a,{children:Object(N.jsx)(Fe.a,{})}),Object(N.jsx)(Re.a,{primary:e.title})]},e.id)})),Object(N.jsx)(Ie.a,{}),Object(N.jsx)(We.a,{button:!0,component:u.b,to:"/manage/accounts",children:Object(N.jsx)(Pe.a,{children:Object(N.jsx)("h6",{children:"Manage My Books"})})}),Object(N.jsx)(Ie.a,{})]})]})}(y)}),Object(N.jsx)(h.a,{className:j.title,variant:"h6",noWrap:!0,component:u.b,to:"/accounts",children:"Expense Tracker"}),Object(N.jsx)("div",{className:j.grow}),Object(N.jsx)("div",{children:a?Object(N.jsx)(we.a,{edge:"end","aria-label":"account of current user","aria-controls":g,"aria-haspopup":"true",onClick:function(e){O(e.currentTarget)},color:"inherit",children:Object(N.jsx)(_e.a,{})}):""})]})}),f]})}var ze=a(245),Me=Object(p.a)((function(e){return{footer:Object(I.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}}));function qe(){return Object(N.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(N.jsx)(ze.a,{color:"inherit",href:"https://nischalstha9.github.io.com/",children:"Nischal Shrestha"})," ",(new Date).getFullYear(),"."]})}var Ke=function(){var e=Me();return Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)(m.a,{maxWidth:"md",component:"footer",className:e.footer,children:Object(N.jsx)(R.a,{mt:5,children:Object(N.jsx)(qe,{})})})})},Ye=a(246);function He(){var e=Object(y.g)(),t=Object(n.useState)({}),a=Object(r.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)([]),d=Object(r.a)(i,2),u=d[0],b=d[1],h=Object(y.h)().account_id;Object(n.useEffect)((function(){f.patch("account-books/".concat(h,"/"),{withCredentials:!0}).then((function(e){o(e.data)})).catch((function(e){return console.log(e)}))}),[]);var p=Object(s.a)({initialValues:{title:c.title},onSubmit:function(t){f.patch("account-books/".concat(c.id,"/"),t,{withCredentials:!0}).then((function(t){e.push("/manage/accounts")})).catch((function(e){return console.log(e)}))}}),m=Object(s.a)({initialValues:{password:""},onSubmit:function(t){console.log(t),f.delete("account-books/".concat(c.id,"/"),{data:t},{withCredentials:!0}).then((function(t){e.push("/manage/accounts")})).catch((function(e){var t=Object.entries(e.response.data)[0][1];console.log(t),b([{message:t,type:"danger"}])}))}});return Object(N.jsxs)("div",{className:"container mt-3",children:[Object(N.jsxs)("div",{className:"jumbotron",children:[Object(N.jsxs)("h3",{children:['Update Book "',c.title,'"']}),Object(N.jsx)("hr",{}),Object(N.jsx)(X.a,{id:"form-dialog-title",children:"Title:"}),Object(N.jsxs)(J.a,{children:[Object(N.jsx)(j.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",type:"text",fullWidth:!0,onChange:p.handleChange,value:p.values.title,placeholder:"Title"}),Object(N.jsx)(l.a,{variant:"contained",color:"secondary",className:"btn btn-warning mt-3",onClick:p.handleSubmit,children:"Update"})]})]}),Object(N.jsxs)("div",{className:"",children:[Object(N.jsxs)("h3",{children:['Delete Book "',c.title,'"']}),Object(N.jsx)("hr",{}),Object(N.jsxs)(X.a,{id:"form-dialog-title",children:['Confirm Delete Account Book: "',c.title,'"']}),Object(N.jsxs)("form",{action:"",onSubmit:m.handleSubmit,children:[Object(N.jsxs)(J.a,{children:[Object(N.jsx)(Ye.a,{children:"Deleting Account Book will delete all of your transactions in respective account book. This action is irreversible. Enter your password to continue."}),Object(N.jsx)(j.a,{margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,onChange:m.handleChange,value:m.values.password,placeholder:"Your Password"})]}),Object(N.jsx)(H.a,{children:Object(N.jsx)(l.a,{variant:"outlined",color:"secondary",onClick:m.handleSubmit,className:"btn btn-outline-danger",children:"Confirm Delete"})})]}),u.map((function(e){return Object(N.jsx)(_,{message:e.message,type:e.type})}))]})]})}var Je=function(){var e=Object(v.c)((function(e){return e.user})),t=Object(y.g)();return Object(N.jsxs)("div",{className:"container mt-3",children:[Object(N.jsx)("h1",{children:"Profile"}),Object(N.jsx)("hr",{}),Object(N.jsx)("h4",{children:"Username:"}),Object(N.jsx)("h5",{children:e.username}),Object(N.jsx)("h4",{children:"Email:"}),Object(N.jsx)("h5",{children:e.email}),Object(N.jsx)(l.a,{variant:"outlined",color:"secondary",className:"btn btn-outline-warning",onClick:function(){return t.push("/change-password")},children:"Change Password"})]})},Xe=Object(p.a)((function(e){return{buttonProgress:{color:S.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},buttonWrapper:{margin:e.spacing(1),position:"relative"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ge(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(y.g)(),i=Xe(),p=Object(n.useState)(!1),O=Object(r.a)(p,2),x=O[0],g=O[1],v=Object(s.a)({initialValues:{old_password:"",new_password1:"",new_password2:""},onSubmit:function(e){g(!0),console.log(e),f.post("auth/password/change/",e,{withCredentials:!0}).then((function(e){g(!1),console.clear(),o.push("/logout")})).catch((function(e){g(!1),console.log(e.response.data);var t=Object.entries(e.response.data)[0][1][0];console.log(t),c([{message:t,type:"danger"}])}))}});return Object(N.jsxs)(m.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(d.a,{}),Object(N.jsxs)("div",{className:i.paper,children:[Object(N.jsx)(h.a,{component:"h1",variant:"h5",children:"Change Password"}),Object(N.jsxs)("form",{className:i.form,onSubmit:v.handleSubmit,children:[Object(N.jsx)(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"old_password",label:"Old Password",name:"old_password",type:"password",onChange:v.handleChange,value:v.values.old_password,autoFocus:!0}),Object(N.jsx)(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",label:"New Password",id:"new_password1",onChange:v.handleChange,value:v.values.new_password1,name:"new_password1"}),Object(N.jsx)(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",label:"Confirm New Password",id:"new_password2",onChange:v.handleChange,value:v.values.new_password2,name:"new_password2"}),Object(N.jsxs)("div",{className:i.buttonWrapper,children:[Object(N.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:x,className:i.submit,children:"Change Password"}),x&&Object(N.jsx)(C.a,{size:24,className:i.buttonProgress})]}),Object(N.jsx)(b.a,{container:!0,children:Object(N.jsx)(b.a,{item:!0,xs:!0,children:Object(N.jsx)(u.b,{href:"#",variant:"body2",children:"Forgot password?"})})})]})]}),a.map((function(e){return Object(N.jsx)(_,{message:e.message,type:e.type})}))]})}var Qe=localStorage.getItem("access_token"),Ze=JSON.parse(localStorage.getItem("user"));var $e=function(){var e=Object(v.b)();Qe&&(e({type:"TRUE"}),e(w(Ze)));var t=Object(v.c)((function(e){return e.authenticated}));return Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)(u.a,{children:[Object(N.jsx)(Ve,{}),Object(N.jsx)(y.d,{children:Object(N.jsxs)(m.a,{className:"motherboard",children:[Object(N.jsx)(y.b,{path:"/logout",component:D}),Object(N.jsx)(y.b,{exact:!0,path:"/register",component:A}),Object(N.jsx)(y.b,{exact:!0,path:"/login",component:T}),Object(N.jsx)(y.b,{exact:!0,path:"/",children:t?Object(N.jsx)(y.a,{to:"/accounts"}):Object(N.jsx)(y.a,{to:"/login"})}),Object(N.jsx)(V,{exact:!0,path:"/accounts",component:Oe}),Object(N.jsx)(V,{exact:!0,path:"/manage/accounts",component:xe}),Object(N.jsx)(V,{exact:!0,path:"/manage/accounts/:account_id",component:He}),Object(N.jsx)(V,{exact:!0,path:"/create-account-book",component:ge}),Object(N.jsx)(V,{path:"/accounts/:account_id",component:pe}),Object(N.jsx)(V,{path:"/profile",component:Je}),Object(N.jsx)(V,{path:"/change-password",component:Ge})]})}),Object(N.jsx)(Ke,{})]})})},et=a(81),tt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TRUE":return!0;case"FALSE":return!1;default:return e}},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INSERT_TOKEN":return t.payload;case"REMOVE_TOKEN":return"";default:return e}},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INSERT_USER":return t.payload;case"REMOVE_USER":return{};default:return e}},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INSERT_BOOKS":return t.payload;case"REMOVE_BOOKS":return[];default:return e}},ot=Object(et.a)({authenticated:tt,token:at,user:nt,account_books:ct}),it=Object(et.b)(ot,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(N.jsx)(v.a,{store:it,children:Object(N.jsx)($e,{})}),document.getElementById("root"))}},[[178,1,2]]]);
//# sourceMappingURL=main.4fa550a1.chunk.js.map